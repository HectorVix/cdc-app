<div class="card-content white">
  <div class="card-body">
    <ngb-tabset #fR="ngbTabset">
      <ngb-tab id="tab-formulario">
        <ng-template ngbTabTitle>
          <b>Formulario Rastreo Elemento</b>
        </ng-template>
        <ng-template ngbTabContent>
          <form [formGroup]="reForm">
            <mat-tab-group dynamicHeight [selectedIndex]="selected.value"
              (selectedIndexChange)="selected.setValue($event)">
              <mat-tab label="1">
                <div class="text-center">
                  <div *ngIf="loading">
                    <img src="assets/imagenes/load.gif">
                  </div>
                </div>
                <ngb-alert *ngIf="successMessage" [type]="tipoAlert" (close)="successMessage = null">
                  {{ successMessage }}</ngb-alert>
                <!-- Identificadores -->
                <div class="modal-content mat-elevation-z4">
                  <div class="modal-header color-green">
                    <h5 class="modal-title">
                      <font size=4 color="white">Identificadores</font>
                    </h5>
                  </div>
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">CODIGOE:</label>
                    </div>
                    <div class="md-form col-md-4 mt10" *ngIf="editar">
                      <input mdbInputDirective mdbValidate type="text" id="formCodigoe" class="form-control"
                        formControlName="codigoe">
                      <mdb-error *ngIf="input_codigoe.invalid && (input_codigoe.dirty || input_codigoe.touched)">
                        <font size=2 color="red">Error, máximo 10 caracteres.</font>
                      </mdb-error>
                    </div>
                    <div class="md-form col-md-4 mt10" *ngIf="guardar">
                      <input mdbInputDirective type="text" id="formCodigoe" class="form-control"
                        formControlName="codigoe" data-error=" " data-success=" " disabled>
                    </div>
                  </div>
                  <!-- fin row -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">TROPICOS:</label>
                    </div>
                    <div class="col-md-3 mt-15">
                      <mat-form-field>
                        <mat-select placeholder="" panelClass="color-panel-green" formControlName="tropicos">
                          <mat-option>-- Ningún valor --</mat-option>
                          <mat-option *ngFor="let sTropico of criterio_Tropico" [value]="sTropico.value">
                            {{sTropico.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- fin row -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">NACION:</label>
                    </div>
                    <div class="col-md-3 mt-15">
                      <mat-form-field>
                        <mat-select placeholder="" panelClass="color-panel-green" formControlName="nacion">
                          <mat-option *ngFor="let sNacion of criterio_Nacion" [value]="sNacion.value">
                            {{sNacion.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- fin row -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">SUBNACIÓN:</label>
                    </div>
                    <div class="col-md-3 mt-15">
                      <mat-form-field>
                        <mat-select placeholder="" panelClass="color-panel-green" formControlName="subnacion">
                          <mat-option *ngFor="let sSubnacion of criterio_Subnacion" [value]="sSubnacion.value">
                            {{sSubnacion.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- fin row -->
                  <div>
                    <button class="btn color-green waves-light" mdbWavesEffect
                      (click)="validarCodigoe()">Validar</button>
                  </div>
                </div>
                <!-- fin modal-content -->
                <!-- Taxonomia (Global) -->
                <div class="modal-content mat-elevation-z4">
                  <div class="modal-header color-green">
                    <h5 class="modal-title">
                      <font size=4 color="white">Taxonomia(Global)</font>
                    </h5>
                  </div>
                  <!-- REINO -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">REINO:</label>
                    </div>
                    <div class="col-md-3 mt10">
                      <mat-form-field>
                        <mat-select placeholder="" panelClass="color-panel-green" formControlName="reino_id"
                          (ngModelChange)="onChange_Reino()">
                          <mat-option>-- Ningún Valor --</mat-option>
                          <mat-option *ngFor="let sReino of criterio_Reino" [value]="sReino.value">
                            {{sReino.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-md-3 mt10">
                      <mat-form-field>
                        <mat-select placeholder="PHYLUM" panelClass="color-panel-green" formControlName="phylum_id"
                          (ngModelChange)="onChange_Phylum()">
                          <mat-option>-- Ningún Valor --</mat-option>
                          <mat-option *ngFor="let sPhylum of criterio_Phylum" [value]="sPhylum.value">
                            {{sPhylum.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- fin row -->
                  <!-- CLASE -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">CLASE:</label>
                    </div>
                    <div class="col-md-3 mt10">
                      <mat-form-field>
                        <mat-select placeholder="" panelClass="color-panel-green" formControlName="clase_id"
                          (ngModelChange)="onChange_Clase()">
                          <mat-option>-- Ningún Valor --</mat-option>
                          <mat-option *ngFor=" let sClase of criterio_Clase" [value]="sClase.value">
                          {{sClase.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-md-3 mt10">
                      <mat-form-field>
                        <mat-select placeholder="ORDEN" panelClass="color-panel-green" formControlName="orden_id"
                          (ngModelChange)="onChange_Orden()">
                          <mat-option>-- Ningún Valor --</mat-option>
                          <mat-option *ngFor="let sOrden of criterio_Orden" [value]="sOrden.value">
                            {{sOrden.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- Fin row -->
                  <!-- FAMILIA -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">FAMILIA</label>
                    </div>
                    <div class="col-md-3 mt10">
                      <mat-form-field>
                        <mat-select placeholder="" panelClass="color-panel-green" formControlName="familia_id"
                          (ngModelChange)="onChange_Familia()">
                          <mat-option>-- Ningún Valor --</mat-option>
                          <mat-option *ngFor="let sFamilia of criterio_Familia" [value]="sFamilia.value">
                            {{sFamilia.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-md-3 mt10">
                      <mat-form-field>
                        <mat-select placeholder="GENERO" panelClass="color-panel-green" formControlName="genero_id"
                          (ngModelChange)="onChange_Genero()">
                          <mat-option>-- Ningún Valor --</mat-option>
                          <mat-option *ngFor="let sGenero of criterio_Genero" [value]="sGenero.value">
                            {{sGenero.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- Fin row -->
                  <!-- ESPECIE -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">ESPECIE:</label>
                    </div>
                    <div class="col-md-3 mt10">
                      <mat-form-field>
                        <mat-select placeholder="" panelClass="color-panel-green" formControlName="especie_id"
                          (ngModelChange)="onChange_Especie()">
                          <mat-option>-- Ningún Valor --</mat-option>
                          <mat-option *ngFor="let sEspecie of criterio_Especie" [value]="sEspecie.value">
                            {{sEspecie.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-md-3 mt10">
                      <mat-form-field>
                        <mat-select placeholder="INFRASPECIFICEPITHET" panelClass="color-panel-green"
                          formControlName="infraspecificepithet_id">
                          <mat-option>-- Ningún Valor --</mat-option>
                          <mat-option *ngFor="let sInfraspecificepithet of criterio_Infraspecificepithet" [value]="sInfraspecificepithet.value">
                            {{sInfraspecificepithet.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- Fin row -->
                  <!-- CLASETAX -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">CLASETAX:</label>
                    </div>
                    <div class="md-form col-md-9 mt10">
                      <input mdbInputDirective mdbValidate type="text" id="formClasetax" class="form-control"
                        formControlName="clasetax">
                      <mdb-error *ngIf="input_clasetax.invalid && (input_clasetax.dirty || input_clasetax.touched)">
                        <font size=2 color="red">Error, máximo 20 caracteres.</font>
                      </mdb-error>
                    </div>
                  </div>
                  <!-- fin row -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">NOMBREG:</label>
                    </div>
                    <div class="md-form col-md-9 mt-20">
                      <input mdbInputDirective mdbValidate type="text" id="formNombreg" class="form-control"
                        formControlName="nombreg">
                      <label for="formNombreg">&nbsp;&nbsp;&nbsp;&nbsp;Binomial científico.</label>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">AUTOR:</label>
                    </div>
                    <div class="md-form col-md-9 mt-20">
                      <input mdbInputDirective mdbValidate type="text" id="formAutor" class="form-control"
                        formControlName="autor">
                      <mdb-error *ngIf="input_autor.invalid && (input_autor.dirty || input_autor.touched)">
                        <font size=2 color="red">Error, máximo 0 caracteres.</font>
                      </mdb-error>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">FUENTENOM:</label>
                    </div>
                    <div class="md-form col-md-2 mt-20">
                      <input mdbInputDirective mdbValidate type="number" id="formFuentenom" class="form-control"
                        formControlName="fuentenom">
                      <mdb-error *ngIf="input_fuentenom.invalid && (input_fuentenom.dirty || input_fuentenom.touched)">
                        <font size=2 color="red">Error, máximo 2 caracteres.</font>
                      </mdb-error>
                    </div>
                  </div>
                  <!-- fin row -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">REFNOMBREG</label>
                    </div>
                    <div class="md-form col-md-9 mt-20">
                      <input mdbInputDirective mdbValidate type="text" id="formRefnombreg" class="form-control"
                        formControlName="refnombreg">
                      <mdb-error
                        *ngIf="input_refnombreg.invalid && (input_refnombreg.dirty || input_refnombreg.touched)">
                        <font size=2 color="red">Error, máximo 60 caracteres.</font>
                      </mdb-error>
                    </div>
                  </div>
                  <!-- fin row -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">DISTTAX:</label>
                    </div>
                    <div class="col-md-3 mt-10">
                      <mat-form-field>
                        <mat-select placeholder=" " panelClass="color-panel-green" formControlName="disttax">
                          <mat-option>-- Ninguna --</mat-option>
                          <mat-option *ngFor="let sDisttax of criterio_disttax" [value]="sDisttax.value">
                            {{sDisttax.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- fin row -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">DUDATAX:</label>
                    </div>
                    <div class="col-md-5">
                      <mat-form-field>
                        <mat-select placeholder=" " panelClass="color-panel-green" formControlName="dudatax">
                          <mat-option>-- Ninguna --</mat-option>
                          <mat-option *ngFor="let sDudatax of criterio_dudatax" [value]="sDudatax.value">
                            {{sDudatax.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- fin row -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">NOMCOMUNG:</label>
                    </div>
                    <div class="md-form col-md-9 mt-5">
                      <input mdbInputDirective mdbValidate type="text" id="formNomcomung" class="form-control"
                        formControlName="nomcomung">
                      <mdb-error *ngIf="input_nomcomung.invalid && (input_nomcomung.dirty || input_nomcomung.touched)">
                        <font size=2 color="red">Error, máximo 60 caracteres.</font>
                      </mdb-error>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">COMTAXG:</label>
                    </div>
                    <div class="md-form col-md-9 mt-20">
                      <i class="fa fa-pencil prefix"></i>
                      <textarea mdbInputDirective mdbValidate type="text" id="formComtaxg"
                        class="md-textarea form-control" formControlName="comtaxg" rows="2"></textarea>
                      <label for="formComtaxg">Comentario</label>
                      <mdb-error *ngIf="input_comtaxg.invalid && (input_comtaxg.dirty || input_comtaxg.touched)">
                        <font size=2 color="red">Error, máximo 120 caracteres.</font>
                      </mdb-error>
                    </div>
                  </div>
                </div>
                <!-- fin modal-content -->
                <!-- Taxonomia (Nacional) -->
                <div class="modal-content mat-elevation-z4">
                  <div class="modal-header color-green">
                    <h5 class="modal-title">
                      <font size=4 color="white">Taxonomia (Nacional)</font>
                    </h5>
                  </div>
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">NOMBREN:</label>
                    </div>
                    <div class="md-form col-md-9 mt10">
                      <input mdbInputDirective mdbValidate type="text" id="formNombren" class="form-control"
                        formControlName="nombren">
                      <label for="formNombren">&nbsp;&nbsp;&nbsp;&nbsp;Binomial científico del elemento utilizado en el
                        país.</label>
                    </div>
                  </div>
                  <!-- fin row -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">NUMSINN:</label>
                    </div>
                    <div class="md-form col-md-2 mt-20">
                      <input mdbInputDirective type="number" id="formNumsinn" class="form-control"
                        formControlName="numsinn" data-error=" " data-success=" ">
                    </div>
                  </div>
                  <!-- fin row -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">NOMCOMUNN:</label>
                    </div>
                    <div class="md-form col-md-9 mt-20">
                      <input mdbInputDirective mdbValidate type="text" id="formNomcomunn" class="form-control"
                        formControlName="nomcomunn">
                      <label for="formNomcomunn">&nbsp;&nbsp;&nbsp;&nbsp;Nombre común nacional.</label>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">COMTAXN:</label>
                    </div>
                    <div class="md-form col-md-9 mt-20">
                      <i class="fa fa-pencil prefix"></i>
                      <textarea mdbInputDirective mdbValidate type="text" id="formComtaxn"
                        class="md-textarea form-control" rows="2" formControlName="comtaxn"></textarea>
                      <label for="formComtaxn">Comentario</label>
                      <mdb-error *ngIf="input_comtaxn.invalid && (input_comtaxn.dirty || input_comtaxn.touched)">
                        <font size=2 color="red">Error, máximo 120 caracteres.</font>
                      </mdb-error>
                    </div>
                  </div>

                </div>
                <!-- fin modal-content -->
                <!-- fin form -->
                <div class="text-center ">
                  <p>
                    <button class="btn color-green waves-light" (click)="tabPagina2()" mdbWavesEffect>Siguiente</button>
                    <button class="btn color-green waves-light" (click)="nuevo()" mdbWavesEffect>Nuevo</button>
                  </p>
                </div>
              </mat-tab>
              <mat-tab label="2">
                <!-- Status (Global) -->
                <div class="modal-content mat-elevation-z4">
                  <div class="modal-header color-green">
                    <h5 class="modal-title">
                      <font size=4 color="white">Status (Global)</font>
                    </h5>
                  </div>
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">RANGOG:</label>
                    </div>
                    <div class="col-md-2 md-form mt10">
                      <input mdbInputDirective type="text" id="formRangog" class="form-control"
                        formControlName="rangog">
                    </div>
                    <div class="col-md-2 md-form mt10">
                      <input mdbInputDirective mdbValidate type="text" id="formResprg" class="form-control"
                        formControlName="resprg">
                      <label for="formResprg">&nbsp;&nbsp;&nbsp;&nbsp;RESPRG</label>
                      <mdb-error *ngIf="input_resprg.invalid && (input_resprg.dirty || input_resprg.touched)">
                        <font size=2 color="red">Error, máximo 10 caracteres.</font>
                      </mdb-error>
                    </div>
                    <div class="col-md-2">
                      <mat-form-field>
                        <mat-select placeholder="FORMULAR" panelClass="color-panel-green" formControlName="formularg">
                          <mat-option>-- Ninguna --</mat-option>
                          <mat-option *ngFor="let sFormularg of criterio_compu_manual" [value]="sFormularg.value">
                            {{sFormularg.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-md-2 mt3">
                      <mat-form-field>
                        <input matInput [matDatepicker]="picker_Control" placeholder="FECHA REVRG"
                          formControlName="fecharevrg">
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- fin row -->
                  <!-- 2 linea -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">IUCN:</label>
                    </div>
                    <div class="col-md-2 mt-20">
                      <mat-form-field>
                        <mat-select placeholder="" panelClass="color-panel-green" formControlName="iucn">
                          <mat-option>-- Ninguna --</mat-option>
                          <mat-option *ngFor="let sUicn of criterio_iucn" [value]="sUicn.value">
                            {{sUicn.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="col-md-2 mt-20">
                      <mat-form-field>
                        <mat-select placeholder="CITES" panelClass="color-panel-green" formControlName="cites">
                          <mat-option>-- Ninguna --</mat-option>
                          <mat-option *ngFor="let sCites of criterio_cites" [value]="sCites.value">
                            {{sCites.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="md-form col-md-2 mt-14">
                      <input mdbInputDirective mdbValidate type="text" id="formAepeu" class="form-control"
                        formControlName="aepeu">
                      <label for="formAepeu">&nbsp;&nbsp;&nbsp;&nbsp;AEPEU</label>
                      <mdb-error *ngIf="input_aepeu.invalid && (input_aepeu.dirty || input_aepeu.touched)">
                        <font size=2 color="red">Error, máximo 10 caracteres.</font>
                      </mdb-error>
                    </div>
                    <div class="md-form col-md-2 mt-20">
                      <mat-form-field>
                        <input matInput [matDatepicker]="picker_Fechaaepeu" placeholder="FECHA AEPEU"
                          formControlName="fechaaepeu">
                        <mat-datepicker-toggle matSuffix [for]="picker_Fechaaepeu"></mat-datepicker-toggle>
                        <mat-datepicker touchUi #picker_Fechaaepeu></mat-datepicker>
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- fin row -->
                  <!-- 3 linea -->
                  <div class="form-row">
                    <div class="col-md-2">
                      <label for="">PLANSCONS:</label>
                    </div>
                    <div class="col-md-2 mt-20">
                      <mat-form-field>
                        <mat-select placeholder=" " panelClass="color-panel-green" formControlName="planscons">
                          <mat-option>-- Ninguna --</mat-option>
                          <mat-option *ngFor="let sPlanscons of criterio_compu_manual" [value]="sPlanscons.value">
                            {{sPlanscons.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>

                    <div class="md-form col-md-2 mt-10">
                      <input mdbInputDirective mdbValidate type="text" id="formResplan" class="form-control"
                        formControlName="resplan">
                      <label for="formResplan">&nbsp;&nbsp;&nbsp;RESPLAN</label>
                      <mdb-error *ngIf="input_resplan.invalid && (input_resplan.dirty || input_resplan.touched)">
                        <font size=2 color="red">Error, máximo 10 caracteres.</font>
                      </mdb-error>
                    </div>
                    <div class="col-md-2 mt-20">
                      <mat-form-field>
                        <mat-select placeholder="RESUMENM" panelClass="color-panel-green" formControlName="resumenman">
                          <mat-option>-- Ninguna --</mat-option>
                          <mat-option *ngFor="let sResumenman of criterio_compu_manual" [value]="sResumenman.value">
                            {{sResumenman.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="md-form col-md-2 mt-14">
                      <input mdbInputDirective mdbValidate type="text" id="formRes_resumen" class="form-control"
                        formControlName="resresumen">
                      <label for="formRes_resumen">&nbsp;&nbsp;&nbsp;RESRESUMEN</label>
                      <mdb-error
                        *ngIf="input_resresumen.invalid && (input_resresumen.dirty || input_resresumen.touched)">
                        <font size=2 color="red">Error, máximo 10 caracteres.</font>
                      </mdb-error>
                    </div>
                  </div>

                  <!-- 4 linea -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">EXSITU:</label>
                    </div>
                    <div class="col-md-2 mt-20">
                      <mat-form-field>
                        <mat-select placeholder=" " panelClass="color-panel-green" formControlName="exsitu">
                          <mat-option>-- Ninguna --</mat-option>
                          <mat-option *ngFor="let sExsitu of criterio_si_no" [value]="sExsitu.value">
                            {{sExsitu.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>

                    <div class="md-form col-md-3 mt-10">
                      <input mdbInputDirective mdbValidate type="text" id="formInstExsitu" class="form-control"
                        formControlName="instexsitu">
                      <label for="formInstExsitu">&nbsp;&nbsp;&nbsp;INST.EXSITU</label>
                      <mdb-error
                        *ngIf="input_instexsitu.invalid && (input_instexsitu.dirty || input_instexsitu.touched)">
                        <font size=2 color="red">Error, máximo 6 caracteres.</font>
                      </mdb-error>
                    </div>
                    <div class="col-md-4 mt-20">
                      <mat-form-field>
                        <mat-select placeholder="ENDEMISMO" panelClass="color-panel-green" formControlName="endemismo">
                          <mat-option>-- Ninguna --</mat-option>
                          <mat-option *ngFor="let sEndemismo of criterio_endemismo" [value]="sEndemismo.value">
                            {{sEndemismo.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- fin row -->
                </div>
                <!-- fin modal-content -->
                <!-- Status (Nacional) -->
                <div class="modal-content mat-elevation-z4">
                  <div class="modal-header color-green">
                    <h5 class="modal-title">
                      <font size=4 color="white">Status (Nacional)</font>
                    </h5>
                  </div>
                  <!-- 1 linea -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">RANGON:</label>
                    </div>
                    <div class="md-form col-md-2 mt10">
                      <input mdbInputDirective type="text" id="formRangon" class="form-control"
                        formControlName="rangon">
                    </div>
                    <div class="md-form col-md-2 mt10">
                      <input mdbInputDirective mdbValidate type="text" id="formRastreolen" class="form-control"
                        formControlName="rastreolen">
                      <label for="formRastreolen">&nbsp;&nbsp;&nbsp;RASTREOLEN</label>
                      <mdb-error
                        *ngIf="input_rastreolen.invalid && (input_rastreolen.dirty || input_rastreolen.touched)">
                        <font size=2 color="red">Error, máximo 10 caracteres.</font>
                      </mdb-error>
                    </div>
                    <div class="col-md-2 ">
                      <mat-form-field>
                        <mat-select placeholder="FORMLARN" panelClass="color-panel-green" formControlName="formularn">
                          <mat-option>-- Ninguna --</mat-option>
                          <mat-option *ngFor="let sFormularn of criterio_compu_manual" [value]="sFormularn.value">
                            {{sFormularn.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="md-form col-md-2 mt3">
                      <mat-form-field>
                        <input matInput [matDatepicker]="picker_Fecharevrn" placeholder="FECHA REVRN"
                          formControlName="fecharevrn">
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- fin row -->
                  <!--  2 linea -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">LESTIMN:</label>
                    </div>
                    <div class="md-form col-md-2 mt-20">
                      <input mdbInputDirective mdbValidate type="text" id="formLestimn" class="form-control"
                        formControlName="lestimn">
                      <label for="formLestimn">&nbsp;&nbsp;&nbsp;&nbsp;LESTIMN</label>
                      <mdb-error *ngIf="input_lestimn.invalid && (input_lestimn.dirty || input_lestimn.touched)">
                        <font size=2 color="red">Error, máximo 1 caracteres.</font>
                      </mdb-error>
                    </div>
                    <div class="md-form col-md-2 mt-20">
                      <input mdbInputDirective mdbValidate type="text" id="formLeprotn" class="form-control"
                        formControlName="leprotn">
                      <label for="formLeprotn">&nbsp;&nbsp;&nbsp;&nbsp;LEPROTN</label>
                      <mdb-error *ngIf="input_leprotn.invalid && (input_leprotn.dirty || input_leprotn.touched)">
                        <font size=2 color="red">Error, máximo 1 caracteres.</font>
                      </mdb-error>
                    </div>
                    <div class="md-form col-md-2 mt-20">
                      <input mdbInputDirective mdbValidate type="text" id="formAbundn" class="form-control"
                        formControlName="abundn">
                      <label for="formAbundn">&nbsp;&nbsp;&nbsp;&nbsp;ABUNDN</label>
                      <mdb-error *ngIf="input_abundn.invalid && (input_abundn.dirty || input_abundn.touched)">
                        <font size=2 color="red">Error, máximo 1 caracteres.</font>
                      </mdb-error>
                    </div>
                    <div class="md-form col-md-2 mt-20">
                      <input mdbInputDirective mdbValidate type="text" id="formProtnacion" class="form-control"
                        formControlName="protnacion">
                      <label for="formProtnacion">&nbsp;&nbsp;&nbsp;&nbsp;PROTNACION</label>
                      <mdb-error
                        *ngIf="input_protnacion.invalid && (input_protnacion.dirty || input_protnacion.touched)">
                        <font size=2 color="red">Error, máximo 4 caracteres.</font>
                      </mdb-error>
                    </div>
                  </div>
                  <!-- fin row -->
                  <!-- 3 linea -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">REFNOMBRE:</label>
                    </div>
                    <div class="md-form col-md-6 mt-20">
                      <input mdbInputDirective mdbValidate type="text" id="formRefnombren" class="form-control"
                        formControlName="refnombren">
                      <mdb-error
                        *ngIf="input_refnombren.invalid && (input_refnombren.dirty || input_refnombren.touched)">
                        <font size=2 color="red">Error, máximo 60 caracteres.</font>
                      </mdb-error>
                    </div>
                    <div class="col-md-2 mt-20">
                      <mat-form-field>
                        <mat-select placeholder="TRANSPARENCIAN" panelClass="color-panel-green"
                          formControlName="transparencian">
                          <mat-option>-- Ninguna --</mat-option>
                          <mat-option *ngFor="let sTransparencian of criterio_si_no" [value]="sTransparencian.value">
                            {{sTransparencian.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- fin row -->
                </div>
                <!-- fin modal-content -->
                <!-- Status (Subnacional) -->
                <div class="modal-content mat-elevation-z4">
                  <div class="modal-header color-green">
                    <h5 class="modal-title">
                      <font size=4 color="white">Status (Subnacional)</font>
                    </h5>
                  </div>

                  <!-- 1 linea -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">RANGOS:</label>
                    </div>
                    <div class="md-form col-md-2 mt10">
                      <input mdbInputDirective type="text" id="formRangon" class="form-control"
                        formControlName="rangos">
                    </div>
                    <div class="col-md-2 mt10">
                      <mat-form-field>
                        <mat-select placeholder="FORMLARS" panelClass="color-panel-green" formControlName="formulars">
                          <mat-option>-- Ninguna --</mat-option>
                          <mat-option *ngFor="let sFormulars of criterio_compu_manual" [value]="sFormulars.value">
                            {{sFormulars.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="md-form col-md-2 mt10">
                      <input mdbInputDirective mdbValidate type="text" id="formRastreoles" class="form-control"
                        formControlName="rastreoles">
                      <label for="formRastreoles">&nbsp;&nbsp;&nbsp;RASTREOLES</label>
                      <mdb-error
                        *ngIf="input_rastreoles.invalid && (input_rastreoles.dirty || input_rastreoles.touched)">
                        <font size=2 color="red">Error, máximo 10 caracteres.</font>
                      </mdb-error>
                    </div>
                    <div class="md-form col-md-2 mt10">
                      <mat-form-field>
                        <input matInput [matDatepicker]="picker_Fecharevrs" placeholder="FECHA REVRS"
                          formControlName="fecharevrs">
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- fin row -->
                  <!--  2 linea -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">LESTIMS:</label>
                    </div>
                    <div class="md-form col-md-2 mt-20">
                      <input mdbInputDirective mdbValidate type="text" id="formLestims" class="form-control"
                        formControlName="lestims">
                    </div>
                    <div class="md-form col-md-2 mt-20">
                      <input mdbInputDirective mdbValidate type="text" id="formLeprots" class="form-control"
                        formControlName="leprots">
                    </div>
                    <div class="md-form col-md-2 mt-20">
                      <input mdbInputDirective mdbValidate type="text" id="formAbunds" class="form-control"
                        formControlName="abunds">
                      <label for="formAbunds">&nbsp;&nbsp;&nbsp;&nbsp;ABUNDS</label>
                    </div>
                    <div class="md-form col-md-2 mt-20">
                      <input mdbInputDirective mdbValidate type="text" id="formProtsubnac" class="form-control"
                        formControlName="protsubnac">
                      <label for="formProtsubnac">&nbsp;&nbsp;&nbsp;&nbsp;PROTSUBNAC</label>
                      <mdb-error
                        *ngIf="input_protsubnac.invalid && (input_protsubnac.dirty || input_protsubnac.touched)">
                        <font size=2 color="red">Error, máximo 4 caracteres.</font>
                      </mdb-error>
                    </div>
                  </div>
                  <!-- fin row -->
                  <!-- 3 linea -->

                  <div class="row">
                    <div class="col-md-2">
                      <label for="">REFNOMBRE:</label>
                    </div>

                    <div class="md-form col-md-6 mt-20">
                      <input mdbInputDirective mdbValidate type="text" id="formRefnombres" class="form-control"
                        formControlName="refnombres">
                      <mdb-error
                        *ngIf="input_refnombres.invalid && (input_refnombres.dirty || input_refnombres.touched)">
                        <font size=2 color="red">Error, máximo 60 caracteres.</font>
                      </mdb-error>
                    </div>
                    <div class="col-md-2 mt-20">
                      <mat-form-field>
                        <mat-select placeholder="TRANSPARENCIAS" panelClass="color-panel-green"
                          formControlName="transparencias">
                          <mat-option>-- Ninguna --</mat-option>
                          <mat-option *ngFor="let sTransparencian of criterio_si_no" [value]="sTransparencian.value">
                            {{sTransparencian.viewValue}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- fin row -->
                </div>
                <!-- fin modal-content -->
                <div class="modal-content mat-elevation-z4">
                  <div class="modal-header color-green">
                    <h5 class="modal-title">
                      <font size=4 color="white">Campos Opcionales</font>
                    </h5>
                  </div>
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">RE.OPC1</label>
                    </div>
                    <div class="md-form col-md-9 mt10">
                      <input mdbInputDirective mdbValidate type="text" id="formReOpc1" class="form-control"
                        formControlName="reopc1">
                      <mdb-error *ngIf="input_reopc1.invalid && (input_reopc1.dirty || input_reopc1.touched)">
                        <font size=2 color="red">Error, máximo 60 caracteres.</font>
                      </mdb-error>
                    </div>
                  </div>
                  <!-- fin row -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">RE.OPC2</label>
                    </div>
                    <div class="md-form col-md-9 mt-20">
                      <input mdbInputDirective mdbValidate type="text" id="formReOpc2" class="form-control"
                        formControlName="reopc2">
                      <mdb-error *ngIf="input_reopc2.invalid && (input_reopc2.dirty || input_reopc2.touched)">
                        <font size=2 color="red">Error, máximo 60 caracteres.</font>
                      </mdb-error>
                    </div>
                  </div>
                  <!-- fin row -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">RE.OPC3</label>
                    </div>
                    <div class="md-form col-md-9 mt-20">
                      <input mdbInputDirective mdbValidate type="text" id="formReOpc3" class="form-control"
                        formControlName="reopc3">
                      <mdb-error *ngIf="input_reopc3.invalid && (input_reopc3.dirty || input_reopc3.touched)">
                        <font size=2 color="red">Error, máximo 60 caracteres.</font>
                      </mdb-error>
                    </div>
                  </div>
                  <!-- fin row -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">RE.OPC4</label>
                    </div>
                    <div class="md-form col-md-9 mt-20">
                      <input mdbInputDirective mdbValidate type="text" id="formReOpc4" class="form-control"
                        formControlName="reopc4">
                      <mdb-error *ngIf="input_reopc4.invalid && (input_reopc4.dirty || input_reopc4.touched)">
                        <font size=2 color="red">Error, máximo 60 caracteres.</font>
                      </mdb-error>
                    </div>
                  </div>
                  <!-- fin row -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">RE.OPC5</label>
                    </div>
                    <div class="md-form  col-md-9 mt-20">
                      <i class="fa fa-pencil prefix"></i>
                      <textarea mdbInputDirective mdbValidate type="text" id="formReOpc5"
                        class="md-textarea form-control" rows="2" formControlName="reopc5"></textarea>
                      <label for="formReOpc5">Anote</label>
                      <mdb-error *ngIf="input_reopc5.invalid && (input_reopc5.dirty || input_reopc5.touched)">
                        <font size=2 color="red">Error, máximo 120 caracteres.</font>
                      </mdb-error>
                    </div>
                  </div>
                  <!-- fin row -->
                </div>
                <!-- fin modal-content -->
                <div class="modal-content mat-elevation-z4">
                  <div class="modal-header color-green">
                    <h5 class="modal-title">
                      <font size=4 color="white">Mantenimiento del Registro</font>
                    </h5>
                  </div>
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">CODFUENTEN:</label>
                    </div>
                    <div class="md-form col-md-9 mt10">
                      <i class="fa fa-pencil prefix"></i>
                      <textarea mdbInputDirective mdbValidate type="text" id="formCodfuenten"
                        class="md-textarea form-control" formControlName="codfuenten" rows="2"></textarea>
                      <label for="formCodfuenten"></label>
                      <mdb-error
                        *ngIf="input_codfuenten.invalid && (input_codfuenten.dirty || input_codfuenten.touched)">
                        <font size=2 color="red">Error, máximo 99 caracteres.</font>
                      </mdb-error>
                    </div>

                  </div>
                  <!-- fin row -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for="">CODFUENTES:</label>
                    </div>
                    <div class="md-form col-md-9 mt-20">
                      <i class="fa fa-pencil prefix"></i>
                      <textarea mdbInputDirective mdbValidate type="text" id="formCodfuentes"
                        class="md-textarea form-control" formControlName="codfuentes" rows="2"></textarea>
                      <label for="formCodfuentes"></label>
                      <mdb-error
                        *ngIf="input_codfuentes.invalid && (input_codfuentes.dirty || input_codfuentes.touched)">
                        <font size=2 color="red">Error, máximo 99 caracteres.</font>
                      </mdb-error>
                    </div>
                  </div>
                  <!-- fin row -->
                  <div class="row">
                    <div class="col-md-2">
                    </div>
                    <div class="md-form col-md-2 mt-10 ">
                      <mat-form-field>
                        <input matInput [matDatepicker]="picker_Actualizag" placeholder="ACTUALIZAG FECHA"
                          formControlName="actualizag">
                        <mat-datepicker-toggle matSuffix [for]="picker_Actualizag"></mat-datepicker-toggle>
                        <mat-datepicker touchUi #picker_Actualizag></mat-datepicker>
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- fin row -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for=""> </label>
                    </div>
                    <div class="md-form col-md-2 mt-20 ">
                      <mat-form-field>
                        <input matInput [matDatepicker]="picker_Actualizan" placeholder="ACTUALIZAN FECHA"
                          formControlName="actualizag">
                        <mat-datepicker-toggle matSuffix [for]="picker_Actualizan"></mat-datepicker-toggle>
                        <mat-datepicker touchUi #picker_Actualizan></mat-datepicker>
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- fin row -->
                  <div class="row">
                    <div class="col-md-2">
                      <label for=""> </label>
                    </div>
                    <div class="md-form col-md-2 mt-20">
                      <mat-form-field>
                        <input matInput [matDatepicker]="picker_Actualizas" placeholder="ACTUALIZAS FECHA"
                          formControlName="actualizag">
                        <mat-datepicker-toggle matSuffix [for]="picker_Actualizas"></mat-datepicker-toggle>
                        <mat-datepicker touchUi #picker_Actualizas></mat-datepicker>
                      </mat-form-field>
                    </div>
                  </div>
                  <!-- fin row -->
                </div>
                <!-- fin modal-content -->
                <div class="text-center ">
                  <div *ngIf="loading">
                    <img src="assets/imagenes/load.gif">
                  </div>
                  <ngb-alert *ngIf="successMessage" [type]="tipoAlert" (close)="successMessage = null">
                    {{ successMessage }}</ngb-alert>
                  <button class="btn color-green waves-light" (click)="tabPagina1()" mdbWavesEffect>Atras</button>
                  <button class="btn color-green waves-light" (click)="nuevo()" mdbWavesEffect>Nuevo</button>
                  <button class="btn color-green waves-light" [disabled]="guardar" (click)="openDialogo()"
                    mdbWavesEffect>Guardar</button>
                  <button class="btn color-green waves-light" [disabled]="editar" (click)="openDialogoEditar()"
                    mdbWavesEffect>Editar</button>
                </div>
              </mat-tab>
            </mat-tab-group>
          </form>
        </ng-template>
      </ngb-tab>
      <ngb-tab id="tab-buscar">
        <ng-template ngbTabTitle>
          <b>Buscar</b>
        </ng-template>
        <ng-template ngbTabContent>
          <div class="modal-content mat-elevation-z4">
            <div class="modal-header color-green"></div>
            <form [formGroup]="buscarForm ">
              <!-- Inicio row -->
              <div class="row">
                <div class="md-form col-md-5 mt10">
                  <input mdbInputDirective type="text" id="formCodigo" class="form-control" formControlName="codigo"
                    data-error=" " data-success=" ">
                  <label for="formCodigo">&nbsp;&nbsp;&nbsp;&nbsp;CÓDIGO DEL ELEMENTO</label>
                </div>
                <div class="md-form col-md-5 mt-1">
                  <mat-form-field>
                    <mat-select placeholder="" panelClass="color-panel-green" formControlName="subnacion">
                      <mat-option>--- Ningún valor ---</mat-option>
                      <mat-option *ngFor="let sSubnacion of criterio_Subnacion" [value]="sSubnacion.value">
                        {{sSubnacion.viewValue}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
              <!-- Fin row -->
              <!-- Inicio row -->
              <div class="row">
                <div class="md-form col-md-5 mt-10">
                  <input mdbInputDirective type="text" id="formNombren" class="form-control" formControlName="nombren"
                    data-error=" " data-success=" ">
                  <label for="formNombren">&nbsp;&nbsp;&nbsp;&nbsp;NOMBRE NACIONAL</label>
                </div>
                <div class="md-form col-md-5 mt-10">
                  <input mdbInputDirective type="text" id="formNombrecomunnn" class="form-control"
                    formControlName="nombrecomunnn" data-error=" " data-success=" ">
                  <label for="formNombrecomunnn">&nbsp;&nbsp;&nbsp;&nbsp;NOMBRE COMÚN NACIONAL</label>
                </div>
              </div>
              <!-- Fin row -->
              <div class="row">
                <div class="col-md-3 mt-20">
                  <mat-form-field>
                    <mat-select placeholder="CLASE" panelClass="color-panel-green" formControlName="clase">
                      <mat-option>--- Ningún valor ---</mat-option>
                      <mat-option *ngFor="let sClase of criterio_clase" [value]="sClase.value">
                        {{sClase.viewValue}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="col-md-3 mt-20" *ngIf="clasificacion_comunidad_Buscador">
                  <mat-form-field>
                    <mat-select placeholder="COMUNIDAD" panelClass="color-panel-green" formControlName="comunidad">
                      <mat-option>--- Ningún valor ---</mat-option>
                      <mat-option *ngFor="let sTipo of criterio_tipo_comunidad" [value]="sTipo.value">
                        {{sTipo.viewValue}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
              <!-- Fin row -->
              <div>
                <button class="btn color-green waves-light" mdbWavesEffect
                  (click)="buscar_RatreoElemento()">Buscar</button>
                <button class="btn color-green waves-light" mdbWavesEffect (click)="buscarTodos()">Buscar
                  Todos</button>
              </div>
            </form>
            <div class="text-center">
              <div *ngIf="loading">
                <img src="assets/imagenes/load.gif">
              </div>
              <ngb-alert *ngIf="successMessage" [type]="tipoAlert" (close)="successMessage = null">{{ successMessage }}
              </ngb-alert>
            </div>


          </div>
          <!-- Fin modal-content -->
          <!-- Tabla busqueda-->
          <mat-form-field>
            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filtrar">
          </mat-form-field>
          <div class="mat-elevation-z8" *ngIf="dataSource">
            <table mat-table [dataSource]="dataSource" matSort>
              <!-- No. Column -->
              <div class="col-md-1">
                <ng-container matColumnDef="numero">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>No.</th>
                  <td mat-cell *matCellDef="let row"> {{row.numero}} </td>
                </ng-container>
              </div>
              <ng-container matColumnDef="codigoe">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>CODIGOE</th>
                <td mat-cell *matCellDef="let row"> {{row.codigoe}} </td>
              </ng-container>
              <ng-container matColumnDef="departamento">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>DEPARTAMENTO</th>
                <td mat-cell *matCellDef="let row"> {{row.departamento}} </td>
              </ng-container>
              <ng-container matColumnDef="nombren">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>NOMBRE NACIONAL</th>
                <td mat-cell *matCellDef="let row"> {{row.nombren}} </td>
              </ng-container>
              <ng-container matColumnDef="nombrecomunn">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>NOMBRE COMUN NACIONAL</th>
                <td mat-cell *matCellDef="let row"> {{row.nombrecomunn}} </td>
              </ng-container>
              <ng-container matColumnDef="clase">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>CLASE</th>
                <td mat-cell *matCellDef="let row"> {{row.clase}} </td>
              </ng-container>
              <tr mat-header-row *matHeaderRowDef="displayedColumns" class="color-green"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="base-element-row"
                (click)="mostrar_RastreoElemento_Busqueda(row); fR.select('tab-formulario') ;">
              </tr>
            </table>
            <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
          </div>
          <!-- Fin tabla busquedas -->
        </ng-template>
      </ngb-tab>
    </ngb-tabset>

    <!-- fin form -->
  </div>
  <!-- fin car-body -->
</div>