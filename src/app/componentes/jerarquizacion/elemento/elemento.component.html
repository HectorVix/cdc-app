<div class="card-content white">
  <mat-tab-group dynamicHeight [selectedIndex]="selected.value" (selectedIndexChange)="selected.setValue($event)">
    <mat-tab label="Formulario">
      <div class="card-body">
        <div class="modal-content mat-elevation-z4">
          <div class="modal-header color-green">
            <h5 class="modal-tittle">Elemento</h5>
          </div>
          <form [formGroup]="elementoForm" (ngSubmit)="onSubmit()">
            <div class="row">
              <div class="col-md-2">
                <label for="">CODIGO ELEMENTO:</label>
              </div>
              <div class="md-form col-md-9 mt10" *ngIf="editar">
                <input mdbInputDirective [disabled]="codigoElemento" type="text" id="formCodigoe" class="form-control" formControlName="codigo"
                  data-error=" " data-success=" ">
              </div>
              <div class="md-form col-md-9 mt10" *ngIf="guardar">
                <input mdbInputDirective [disabled]="codigoElemento" type="text" id="formCodigoe" class="form-control" formControlName="codigo"
                  data-error=" " data-success=" " disabled>
              </div>
            </div>
            <!-- fin row -->
            <div class="row">
              <div class="col-md-2">
                <label for="">NOMBRE COMÚN:</label>
              </div>
              <div class="md-form col-md-9 mt-20">
                <input mdbInputDirective type="text" id="formNombrecomun" class="form-control" formControlName="nombrecomun" data-error=" "
                  data-success=" ">
              </div>
            </div>
            <!-- fin row -->
            <mat-tab-group dynamicHeight>
              <mat-tab label="Actual">
                <div class="row">
                  <div class="col-md-2">
                    <label for="">NOMBRE CIENTÍFICO:</label>
                  </div>
                  <div class="md-form col-md-9 mt5">
                    <input mdbInputDirective type="text" id="formNombrecientifico" class="form-control" formControlName="nombrecientifico" data-error=" "
                      data-success=" ">
                  </div>
                </div>
              </mat-tab>
              <mat-tab label="Historial">
                <div class="card-body">
                  <app-tabla-busqueda></app-tabla-busqueda>
                </div>


              </mat-tab>
            </mat-tab-group>
            <div class="row">
              <div class="col-md-2">
                <label for="">COMENTARIO:</label>
              </div>
              <div class="md-form  col-md-9 mt10">
                <i class="fa fa-pencil prefix"></i>
                <textarea mdbInputDirective type="text" id="formComentario" class="md-textarea form-control" formControlName="comentario"
                  rows="1" data-error=" " data-success=" "></textarea>
                <label for="formComentario">Anote</label>
              </div>
            </div>
            <!-- fin row -->
            <div class="row">
              <div class="col-md-8"></div>
              <div class="md-form col-md-2 input-group-append mt-20">
                <input mdbInputDirective type="text" id="formFecha" class="form-control" formControlName="fecha" data-error=" " data-success=" "
                  ngbDatepicker #dFecha="ngbDatepicker">
                <label for="formFecha">&nbsp;&nbsp;&nbsp;&nbsp;FECHA</label>
                <div (click)="dFecha.toggle()">
                  <i class="fa fa-calendar prefix"></i>
                </div>
              </div>
            </div>
            <!-- fin row -->
            <app-galeria></app-galeria>
            <!-- fin modal-content  -->
            <div class="text-center">
              <div *ngIf="loading">
                <img src="assets/imagenes/load.gif">
              </div>
              <ngb-alert *ngIf="successMessage" [type]="tipoAlert" (close)="successMessage = null">{{ successMessage }}</ngb-alert>
              <button class="btn color-green waves-light" (click)="nuevo()" mdbWavesEffect>Nuevo </button>
              <button class="btn color-green waves-light" type="button" [disabled]="guardar" (click)="openDialogo()" mdbWavesEffect>Guardar </button>
              <button class="btn color-green waves-light" type="button" [disabled]="editar" (click)="openDialogoEditar()" mdbWavesEffect>Editar </button>
            </div>
          </form>
        </div>
      </div>
    </mat-tab>
    <mat-tab label="Buscar">
      <div class="card-body">
        <div class="modal-content mat-elevation-z4">
          <div class="modal-header color-green"></div>
          <form [formGroup]="buscarForm" class="base-form">
            <mat-form-field class="base-full-width">
              <input matInput placeholder="Codigo del Elemento" formControlName="codigo" [errorStateMatcher]="matcher">
            </mat-form-field>
            <mat-form-field class="base-full-width">
              <input matInput placeholder="Nombre Común" formControlName="nombrecomun" [errorStateMatcher]="matcher">
            </mat-form-field>
            <mat-form-field class="base-full-width">
              <input matInput placeholder="Nombre Científico" formControlName="nombrecientifico" [errorStateMatcher]="matcher">
            </mat-form-field>
            <div class="mat-elevation-z8" class="base-form">
              <button mat-raised-button class="color-green" (click)="buscarElemento()">Buscar</button>
            </div>
          </form>
          <div class="text-center">
            <div *ngIf="loading">
              <img src="assets/imagenes/load.gif">
            </div>
          </div>
          <ngb-alert *ngIf="successMessage" [type]="tipoAlert" (close)="successMessage = null">{{ successMessage }}</ngb-alert>
        </div>
        <mat-form-field>
          <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filtrar">
        </mat-form-field>
        <div class="mat-elevation-z8" *ngIf="dataSource">
          <table mat-table [dataSource]="dataSource" matSort>
            <!-- No. Column -->
            <div class="col-md-1">
              <ng-container matColumnDef="numero">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>No.</th>
                <td mat-cell *matCellDef="let row"> {{row.numero}} </td>
              </ng-container>
            </div>
            <ng-container matColumnDef="codigo">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>CODIGO</th>
              <td mat-cell *matCellDef="let row"> {{row.codigo}} </td>
            </ng-container>

            <ng-container matColumnDef="nombrecomun">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>NOMBRECOMUN</th>
              <td mat-cell *matCellDef="let row"> {{row.nombrecomun}} </td>
            </ng-container>
            <ng-container matColumnDef="nombrecientifico">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>NOMBRE CIENTÍFICO</th>
              <td mat-cell *matCellDef="let row"> {{row.nombrecientifico}} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns" class="color-green"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="base-element-row" (click)="setElementoBuscado(row);">
            </tr>
          </table>
          <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
        </div>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>