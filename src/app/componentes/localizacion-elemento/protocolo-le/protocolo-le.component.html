<div class="card-content white">
    <mat-tab-group dynamicHeight [selectedIndex]="selected.value" (selectedIndexChange)="selected.setValue($event)">
        <mat-tab label="Formulario">
            <div class="card-body">
                <form [formGroup]="protocoloLeForm">
                    <ngb-alert *ngIf="successMessage" [type]="tipoAlert" (close)="successMessage = null">{{ successMessage }}</ngb-alert>
                    <div class="modal-content mat-elevation-z8">
                        <div class="modal-header  color-green">
                            <h5 class="modal-title">Protocolo LE</h5>
                        </div>
                        <div class="row">
                            <div class="col-md-2">
                                <label for="">CODIGOE:</label>
                            </div>
                            <div class="md-form col-md-3 mt10" *ngIf="editar">
                                <input mdbInputDirective type="text" id="formCodigoe" class="form-control" formControlName="codigoe" data-error="" data-success="">
                                <label for="formCodigoe"></label>
                            </div>
                            <div class="md-form col-md-3 mt10" *ngIf="guardar">
                                <input mdbInputDirective type="text" id="formCodigoe" class="form-control" formControlName="codigoe" data-error="" data-success=""
                                    disabled>
                                <label for="formCodigoe"></label>
                            </div>
                            <div class="col-md-1">
                                <div class="mat-elevation-z8" class="base-form">
                                    <button mat-raised-button class="color-green" (click)="validarCodigoe()">Validar</button>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-2">
                            </div>
                            <div class="md-form col-md-2 mt-20">
                                <input mdbInputDirective type="text" id="formRangoG" class="form-control" formControlName="rangog" data-error=" " data-success=" ">
                                <label for="formRangoG">&nbsp;&nbsp;&nbsp;&nbsp;RANGOG</label>
                            </div>
                            <div class="md-form col-md-2 mt-20">
                                <input mdbInputDirective type="text" id="formRangoN" class="form-control" formControlName="rangon" data-error=" " data-success=" ">
                                <label for="formRangoN">&nbsp;&nbsp;&nbsp;&nbsp;RANGON</label>
                            </div>
                            <div class="md-form col-md-2 mt-20">
                                <input mdbInputDirective type="text" id="formRangos" class="form-control" formControlName="rangos" data-error=" " data-success=" ">
                                <label for="formRangos">&nbsp;&nbsp;&nbsp;&nbsp;RANGOS</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-2">
                                <label for="">NOMBRE:</label>
                            </div>
                            <div class="md-form col-md-9 mt-20 ">
                                <input mdbInputDirective type="text" id="formNombre" class="form-control" formControlName="nombre" data-error="incorrecto"
                                    data-success="correcto">
                                <label for="formNombre"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-2">
                                <label for="">NOMCOMUN:</label>
                            </div>
                            <div class="md-form col-md-9 mt-20">
                                <input mdbInputDirective type="text" id="formNomcomun" class="form-control" formControlName="nomcomun" data-error="incorrecto"
                                    data-success="correcto">
                                <label for="formNomcomun"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-8"></div>
                            <div class="md-form col-md-2 input-group-append mt-20">
                                <input mdbInputDirective type="text" id="formFecha" class="form-control" formControlName="fecha" data-error=" " data-success=" "
                                    ngbDatepicker #dFecha="ngbDatepicker">
                                <label for="formFecha">&nbsp;&nbsp;&nbsp;&nbsp;FECHA</label>
                                <div (click)="dFecha.toggle()">
                                    <i class="fa fa-calendar prefix"></i>
                                </div>
                            </div>
                        </div>
                        <div class="row mx-auto color-green">
                            <ng2-smart-table [settings]="settings_Protocolo" [source]="data_dispersion_DataSource" (deleteConfirm)="onDeleteConfirm($event)"
                                (createConfirm)="onCreateConfirm($event)" (editConfirm)="onUpdateConfirm($event)">
                            </ng2-smart-table>
                        </div>
                    </div>
                    <div class="text-center ">
                        <div *ngIf="loading">
                            <img src="assets/imagenes/load.gif">
                        </div>
                        <ngb-alert *ngIf="successMessage" [type]="tipoAlert" (close)="successMessage = null">{{ successMessage }}</ngb-alert>
                        <button class="btn color-green waves-light" (click)="nuevo()" mdbWavesEffect>Nuevo</button>
                        <button class="btn color-green waves-light" [disabled]="guardar" (click)="openDialogo()" mdbWavesEffect>Guardar</button>
                        <button class="btn color-green waves-light" [disabled]="editar" (click)="openDialogoEditar()" mdbWavesEffect>Editar</button>
                    </div>
                </form>
            </div>
        </mat-tab>
        <mat-tab label="Buscar">
            <div class="card-body">
                <div class="modal-content mat-elevation-z8">
                    <div class="modal-header color-green"></div>
                    <form [formGroup]="buscar_Form ">
                        <!-- Inicio row -->
                        <div class="row">
                            <div class="md-form col-md-5 mt10">
                                <input mdbInputDirective type="text" id="formCodigoe" class="form-control" formControlName="codigoe" data-error=" " data-success=" ">
                                <label for="formCodigoe">&nbsp;&nbsp;&nbsp;&nbsp;CÓDIGO DEL ELEMENTO</label>
                            </div>
                            <div class="md-form col-md-5 mt10">
                                <input mdbInputDirective type="text" id="formNombre" class="form-control" formControlName="nombre" data-error=" " data-success=" ">
                                <label for="formNombre">&nbsp;&nbsp;&nbsp;&nbsp;NOMBRE</label>
                            </div>
                        </div>
                        <!-- Fin row -->
                        <!-- Inicio row -->
                        <div class="row">
                            <div class="md-form col-md-5 mt-10">
                                <input mdbInputDirective type="text" id="formNomcomun" class="form-control" formControlName="nomcomun" data-error=" " data-success=" ">
                                <label for="formNomcomun">&nbsp;&nbsp;&nbsp;&nbsp;NOMBRE COMÚN NACIONAL</label>
                            </div>
                        </div>
                        <!-- Fin row -->
                        <div>
                            <button class="btn color-green waves-light" mdbWavesEffect (click)="buscarProtocolo_LE()">Buscar</button>
                        </div>
                    </form>
                    <div class="text-center">
                        <div *ngIf="loading">
                            <img src="assets/imagenes/load.gif">
                        </div>
                    </div>
                    <ngb-alert *ngIf="successMessage" [type]="tipoAlert" (close)="successMessage = null">{{ successMessage }}</ngb-alert>

                </div>
                <!-- Fin modal-content -->
                <!-- Tabla busqueda-->
                <mat-form-field>
                    <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filtrar">
                </mat-form-field>
                <div class="mat-elevation-z8" *ngIf="dataSource">
                    <table mat-table [dataSource]="dataSource" matSort>
                        <!-- No. Column -->
                        <div class="col-md-1">
                            <ng-container matColumnDef="numero">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header>No.</th>
                                <td mat-cell *matCellDef="let row"> {{row.numero}} </td>
                            </ng-container>
                        </div>
                        <ng-container matColumnDef="codigoe">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>CÓDIGO</th>
                            <td mat-cell *matCellDef="let row"> {{row.codigoe}} </td>
                        </ng-container>
                        <ng-container matColumnDef="nombre">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>NOMBRE</th>
                            <td mat-cell *matCellDef="let row"> {{row.nombre}} </td>
                        </ng-container>
                        <ng-container matColumnDef="nomcomun">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>NOMBRE COMÚN NACIONAL</th>
                            <td mat-cell *matCellDef="let row"> {{row.nomcomun}} </td>
                        </ng-container>
                        <tr mat-header-row *matHeaderRowDef="displayedColumns" class="color-green"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="base-element-row" (click)="mostrar_ProtocoloLE_Busqueda(row)">
                        </tr>
                    </table>
                    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
                </div>
                <!-- Fin tabla busquedas -->
            </div>
            <!-- Fin card-body -->
        </mat-tab>
    </mat-tab-group>
</div>